{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";const Publications=()=>{const[publicationsByYear,setPublicationsByYear]=useState({});useEffect(()=>{const fetchAndParseBib=async()=>{try{const response=await fetch('./data/references.bib').then(res=>res.text());const entries=parseBibTeX(response);// Group publications by year\nconst grouped=entries.reduce((acc,pub)=>{const year=pub.year||'Unknown';if(!acc[year]){acc[year]=[];}acc[year].push(pub);return acc;},{});// Sort years in descending order\nconst sortedByYear=Object.keys(grouped).sort((a,b)=>b-a).reduce((acc,year)=>{acc[year]=grouped[year];return acc;},{});setPublicationsByYear(sortedByYear);}catch(error){console.error('Error reading file:',error);}};fetchAndParseBib();},[]);const parseBibTeX=text=>{const entries=[];const entryRegex=/@(\\w+)\\s*{\\s*([^,]*),\\s*((?:[^{}]*|{[^{}]*})*)\\s*}/g;const fieldRegex=/(\\w+)\\s*=\\s*{([^}]*)}/g;let match;while((match=entryRegex.exec(text))!==null){const[,type,key,content]=match;const entry={type,key};let fieldMatch;while((fieldMatch=fieldRegex.exec(content))!==null){const[,field,value]=fieldMatch;entry[field.toLowerCase()]=value.trim();}entries.push(entry);}return entries;};const getPublicationType=pub=>{if(pub.journal)return\"Journal Article\";if(pub.booktitle)return\"Conference Proceedings\";if(pub.type&&pub.type.toLowerCase()==='techreport')return\"Technical Report\";if(pub.type)return pub.type.charAt(0).toUpperCase()+pub.type.slice(1);return\"\";};const formatCitation=pub=>{const publicationType=getPublicationType(pub);const authors=pub.author?pub.author.split(' and ').map(author=>{if(author.includes('Pasqual, Valentina')||author.includes('Pasqual, V.')){return\"<strong>\".concat(author,\"</strong>\");}return author;}).join(', '):'';const title=pub.title?\". \".concat(pub.title):'';const journal=pub.journal?\". \".concat(pub.journal):'';const conference=pub.booktitle?\". In: \".concat(pub.booktitle):'';const volume=pub.volume?\", \".concat(pub.volume):'';const pages=pub.pages?\", pp. \".concat(pub.pages):'';const doi=pub.doi?\". DOI: \".concat(pub.doi):'';return/*#__PURE__*/_jsxs(_Fragment,{children:[publicationType&&/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-gray-600 mr-2\",children:[\"[\",publicationType,\"]\"]}),/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:authors}}),title,journal,conference,volume,pages,doi]});};return/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-4xl mx-auto\",children:Object.entries(publicationsByYear).map(_ref=>{let[year,pubs]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"book-3 p-2 rounded-lg shadow-sm mb-4 border-2\",children:/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"span\",{children:year})})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 pl-4\",children:pubs.map((pub,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 border-l-2 border-rose-300 pl-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:formatCitation(pub)}),pub.doi&&/*#__PURE__*/_jsx(\"a\",{href:\"https://doi.org/\".concat(pub.doi),target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-sm text-rose-700 hover:underline mt-1 inline-block\",children:\"View Publication\"})]},index))})]},year);})});};export default Publications;","map":{"version":3,"names":["React","useEffect","useState","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Publications","publicationsByYear","setPublicationsByYear","fetchAndParseBib","response","fetch","then","res","text","entries","parseBibTeX","grouped","reduce","acc","pub","year","push","sortedByYear","Object","keys","sort","a","b","error","console","entryRegex","fieldRegex","match","exec","type","key","content","entry","fieldMatch","field","value","toLowerCase","trim","getPublicationType","journal","booktitle","charAt","toUpperCase","slice","formatCitation","publicationType","authors","author","split","map","includes","concat","join","title","conference","volume","pages","doi","children","className","dangerouslySetInnerHTML","__html","_ref","pubs","index","href","target","rel"],"sources":["C:/Users/valep/Downloads/sito_prova/src/Publications.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst Publications = () => {\r\n  const [publicationsByYear, setPublicationsByYear] = useState({});\r\n  \r\n  useEffect(() => {\r\n    const fetchAndParseBib = async () => {\r\n      try {\r\n        const response = await fetch('./data/references.bib').then(res => res.text());\r\n        const entries = parseBibTeX(response);\r\n        \r\n        // Group publications by year\r\n        const grouped = entries.reduce((acc, pub) => {\r\n          const year = pub.year || 'Unknown';\r\n          if (!acc[year]) {\r\n            acc[year] = [];\r\n          }\r\n          acc[year].push(pub);\r\n          return acc;\r\n        }, {});\r\n        \r\n        // Sort years in descending order\r\n        const sortedByYear = Object.keys(grouped)\r\n          .sort((a, b) => b - a)\r\n          .reduce((acc, year) => {\r\n            acc[year] = grouped[year];\r\n            return acc;\r\n          }, {});\r\n          \r\n        setPublicationsByYear(sortedByYear);\r\n      } catch (error) {\r\n        console.error('Error reading file:', error);\r\n      }\r\n    };\r\n\r\n    fetchAndParseBib();\r\n  }, []);\r\n\r\n  const parseBibTeX = (text) => {\r\n    const entries = [];\r\n    const entryRegex = /@(\\w+)\\s*{\\s*([^,]*),\\s*((?:[^{}]*|{[^{}]*})*)\\s*}/g;\r\n    const fieldRegex = /(\\w+)\\s*=\\s*{([^}]*)}/g;\r\n\r\n    let match;\r\n    while ((match = entryRegex.exec(text)) !== null) {\r\n      const [, type, key, content] = match;\r\n      const entry = { type, key };\r\n      \r\n      let fieldMatch;\r\n      while ((fieldMatch = fieldRegex.exec(content)) !== null) {\r\n        const [, field, value] = fieldMatch;\r\n        entry[field.toLowerCase()] = value.trim();\r\n      }\r\n      entries.push(entry);\r\n    }\r\n\r\n    return entries;\r\n  };\r\n\r\n  const getPublicationType = (pub) => {\r\n    if (pub.journal) return \"Journal Article\";\r\n    if (pub.booktitle) return \"Conference Proceedings\";\r\n    if (pub.type && pub.type.toLowerCase() === 'techreport') return \"Technical Report\";\r\n    if (pub.type) return pub.type.charAt(0).toUpperCase() + pub.type.slice(1);\r\n    return \"\";\r\n  };\r\n\r\n  const formatCitation = (pub) => {\r\n    const publicationType = getPublicationType(pub);\r\n    \r\n    const authors = pub.author ? pub.author.split(' and ')\r\n      .map(author => {\r\n        if (author.includes('Pasqual, Valentina') || author.includes('Pasqual, V.')) {\r\n          return `<strong>${author}</strong>`;\r\n        }\r\n        return author;\r\n      })\r\n      .join(', ') : '';\r\n      \r\n    const title = pub.title ? `. ${pub.title}` : '';\r\n    const journal = pub.journal ? `. ${pub.journal}` : '';\r\n    const conference = pub.booktitle ? `. In: ${pub.booktitle}` : '';\r\n    const volume = pub.volume ? `, ${pub.volume}` : '';\r\n    const pages = pub.pages ? `, pp. ${pub.pages}` : '';\r\n    const doi = pub.doi ? `. DOI: ${pub.doi}` : '';\r\n\r\n    return (\r\n      <>\r\n        {publicationType && <span className=\"font-semibold text-gray-600 mr-2\">[{publicationType}]</span>}\r\n        <span dangerouslySetInnerHTML={{__html: authors}} /> \r\n        {title}{journal}{conference}{volume}{pages}{doi}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-4xl mx-auto\">\r\n      {Object.entries(publicationsByYear).map(([year, pubs]) => (\r\n        <div key={year} className=\"mb-8\">\r\n          <div className=\"book-3 p-2 rounded-lg shadow-sm mb-4 border-2\">\r\n            <h2><span>{year}</span></h2>\r\n          </div>\r\n          <div className=\"space-y-4 pl-4\">\r\n            {pubs.map((pub, index) => (\r\n              <div key={index} className=\"mb-4 border-l-2 border-rose-300 pl-4\">\r\n                <p className=\"text-sm\">\r\n                  {formatCitation(pub)}\r\n                </p>\r\n                {pub.doi && (\r\n                  <a \r\n                    href={`https://doi.org/${pub.doi}`}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"text-sm text-rose-700 hover:underline mt-1 inline-block\"\r\n                  >\r\n                    View Publication\r\n                  </a>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Publications;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}